document.addEventListener("DOMContentLoaded",(function(){var e=$("#brandTable");if(e.length){var a=$(e).DataTable({processing:!0,serverSide:!0,language:{lengthMenu:"Show _MENU_"},ajax:{url:route("brands.index")},columnDefs:[{targets:[0],width:"15%"},{targets:[1],width:"40%"},{targets:[2],orderable:!1,className:"text-center",width:"8%"},{targets:"_all",defaultContent:"N/A",className:"text-start align-middle text-nowrap"}],columns:[{data:function(e){return'<div class="symbol symbol-circle symbol-50px overflow-hidden me-3 h-50px w-50px">\n                                <a href="#">\n                                    <div class="symbol-label">\n                                        <img src="'.concat(e.image_url,'" alt="" class="w-100">\n                                    </div>\n                                </a>\n                            </div>')},name:"id"},{data:"name",name:"name"},{data:function(e){var a=[{id:e.id}];return prepareTemplateRender("#actionsButtonTemplates",a)},name:"id"}]});handleSearchDatatable(a),listen("submit","#addBrandForm",(function(a){a.preventDefault(),processingBtn("#addBrandForm","#brandBtn","loading"),$.ajax({url:route("brands.store"),type:"POST",data:new FormData(this),processData:!1,contentType:!1,success:function(a){displaySuccessMessage(a.message),$("#addBrandModal").modal("hide"),e.DataTable().ajax.reload(null,!1)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addBrandForm","#btnSave")}})})),listen("submit","#editBrandForm",(function(a){a.preventDefault(),processingBtn("#editBrandForm","#btnEditSave","loading");var t=$("#editBrandId").val();$.ajax({url:route("brands.update",t),type:"POST",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(a){a.success&&(displaySuccessMessage(a.message),$("#editBrandModal").modal("hide"),e.DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#editBrandForm","#btnEditSave")}})})),listen("click",".delete-btn",(function(a){var t=$(a.currentTarget).data("id");deleteItem(route("brands.destroy",t),e,"Brand")})),listen("click","#addBrandBtn",(function(){$("#addBrandModal").appendTo("body").modal("show"),resetModalForm("#addBrandForm")})),listen("click",".edit-btn",(function(e){var a,t=$(e.currentTarget).data("id");a=t,$.ajax({url:route("brands.edit",a),type:"GET",success:function(e){e.success&&($("#editBrandId").val(e.data.id),$("#editName").val(e.data.name),isEmpty(e.data.image_url)?$("#editPreviewImage").css("background-image",'url("'+defaultImage+'")'):$("#editPreviewImage").css("background-image",'url("'+e.data.image_url+'")'),$("#editBrandModal").modal("show").appendTo("body"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}))}}));