document.addEventListener("DOMContentLoaded",(function(){var a=$("#callToActionTable");if(a.length){var t=$(a).DataTable({processing:!0,serverSide:!0,language:{lengthMenu:"Show _MENU_"},order:[[2,"desc"]],ajax:{url:route("call-to-actions.index"),data:function(a){a.status=$("#callToActionsStatus").find("option:selected").val()}},columnDefs:[{targets:[0],width:"20%"},{targets:[1],width:"10%"},{targets:[2],width:"10%"},{targets:[3],width:"10%",className:"text-center text-nowrap"},{targets:[4],width:"8%",orderable:!1,className:"text-center text-nowrap"}],columns:[{data:function(a){return'<div class="d-flex align-items-center">\n                    <div class="d-inline-block align-top">\n                             <span class="text-primary" href="">'.concat(a.name,"</span>\n                    </div>")},name:"name"},{data:"zip",name:"zip"},{data:function(a){return'<div class="badge badge-light">\n                    <div> '.concat(moment(a.created_at,"YYYY-MM-DD hh:mm:ss").format("Do MMM, YYYY"),"</div>\n                    </div>")},name:"created_at"},{data:function(a){return a.status?'<div class="badge badge-light-success">Read</div>':'<div class="badge badge-light-danger">Unread</div>'},name:"status"},{data:function(a){return prepareTemplateRender("#actionsButtonTemplates",[{id:a.id,url:route("call-to-actions.show",a.id)}])},name:"id"}],fnInitComplete:function(){$("#callToActionsStatus").change((function(){$("#filter").removeClass("show"),$("#filterBtn").removeClass("show"),$("#callToActionTable").DataTable().ajax.reload(null,!0)}))}});handleSearchDatatable(t),listen("click",".delete-btn",(function(t){var e=$(t.currentTarget).data("id");deleteItem(route("call-to-action.destroy",e),a,"Call To Action")})),listen("click",".show-btn",(function(a){$("#showCallToActionModal").appendTo("body").modal("show");var t=$(a.currentTarget).data("id");$.ajax({url:route("call-to-actions.index")+"/"+t,type:"GET",success:function(a){a.success&&($("#showName").html(a.data.name),$("#showPhoneNo").html(a.data.phone),$("#showAddress").html(a.data.address),$("#showZip").html(a.data.zip),$("#showCreatedAt").text(moment(a.data.created_at,"YYYY-MM-DD hh:mm:ss").format("Do MMM, YYYY")),$("#showUpdatedAt").text(moment(a.data.updated_at,"YYYY-MM-DD hh:mm:ss").format("Do MMM, YYYY")),$("#callToActionTable").DataTable().ajax.reload(null,!0),$("#showCallToActionModal").appendTo("body").modal("show"))},error:function(a){displayErrorMessage(a.responseJSON.message)}})}))}}));