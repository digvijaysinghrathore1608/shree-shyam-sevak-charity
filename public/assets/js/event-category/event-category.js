document.addEventListener("DOMContentLoaded",(function(){var e=$("#eventCategoryTable");if(e.length){var t=$(e).DataTable({processing:!0,serverSide:!0,language:{lengthMenu:"Show _MENU_"},ajax:{url:route("event-categories.index")},columnDefs:[{targets:[1],width:"10%",className:"text-center text-nowrap",orderable:!1},{targets:[2],className:"text-center text-nowrap",width:"10%",orderable:!1},{targets:"_all",defaultContent:"N/A",className:"text-start align-middle text-nowrap"}],columns:[{data:function(e){return'<div class="d-flex align-items-center">\n                            <div class="symbol symbol-circle symbol-50px overflow-hidden me-3 h-50px w-50px">\n                                <a >\n                                    <div class="">\n                                        <img src="'.concat(e.image_url,'" alt="" class="user-img">\n                                    </div>\n                                </a>\n                           </div>\n                           <div class="d-flex flex-column">\n                           <span>').concat(e.name,"</span>\n                            </div>\n                         </div>")},name:"name"},{data:function(e){var t=0===e.is_active?"":"checked",a=[{id:e.id,checked:t}];return prepareTemplateRender("#IsActiceTemplate",a)},name:"is_active"},{data:function(e){var t=[{id:e.id}];return prepareTemplateRender("#actionsButtonTemplates",t)},name:"id"}]});handleSearchDatatable(t),listen("click","#addEventCategoryBtn",(function(){$("#addEventCategoryModal").appendTo("body").modal("show"),resetModalForm("#addEventCategoryForm")})),listen("submit","#addEventCategoryForm",(function(t){t.preventDefault(),processingBtn("#addEventCategoryForm","#eventCategoryBtn","loading"),$.ajax({url:route("event-categories.store"),type:"POST",data:new FormData(this),processData:!1,contentType:!1,success:function(t){displaySuccessMessage(t.message),$("#addEventCategoryModal").modal("hide"),e.DataTable().ajax.reload(null,!1)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addEventCategoryForm","#btnSave")}})})),listen("submit","#editEventCategoryForm",(function(t){t.preventDefault(),processingBtn("#editEventCategoryForm","#btnEditSave","loading");var a=$("#editEventCategoryId").val();$.ajax({url:route("event-categories.update",a),type:"POST",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(t){t.success&&(displaySuccessMessage(t.message),$("#editEventCategoryModal").modal("hide"),e.DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#editEventCategoryForm","#btnEditSave")}})})),listen("click",".delete-btn",(function(t){var a=$(t.currentTarget).data("id");deleteItem(route("event-categories.destroy",a),e,"Event Category")})),listen("click",".edit-btn",(function(e){var t,a=$(e.currentTarget).data("id");t=a,$.ajax({url:route("event-categories.edit",t),type:"GET",success:function(e){e.success&&($("#editEventCategoryId").val(e.data.id),$("#editName").val(e.data.name),isEmpty(e.data.image_url)?$("#editPreviewImage").css("background-image",'url("'+defaultImage+'")'):$("#editPreviewImage").css("background-image",'url("'+e.data.image_url+'")'),1==e.data.is_active?$("#editIsActive").prop("checked",!0):$("#editIsActive").prop("checked",!1),$("#editEventCategoryModal").modal("show").appendTo("body"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}))}}));