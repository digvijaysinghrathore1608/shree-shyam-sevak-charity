document.addEventListener("DOMContentLoaded",(function(){var e=$("#countryTable");if(e.length){var t=$(e).DataTable({processing:!0,serverSide:!0,language:{lengthMenu:"Show _MENU_"},ajax:{url:route("countries.index")},columnDefs:[{targets:[1],width:"10%",className:"text-center text-nowrap",orderable:!1},{targets:"_all",defaultContent:"N/A",className:"text-start align-middle text-nowrap"}],columns:[{data:"country_name",name:"country_name"},{data:function(e){var t=[{id:e.id}];return prepareTemplateRender("#actionsButtonTemplates",t)},name:"id"}]});handleSearchDatatable(t),listen("click","#addCountryBtn",(function(){$("#addCountryModal").appendTo("body").modal("show"),resetModalForm("#addCountryForm")})),listen("submit","#addCountryForm",(function(t){t.preventDefault(),processingBtn("#addCountryForm","#CountryBtn","loading"),$.ajax({url:route("countries.store"),type:"POST",data:$(this).serialize(),success:function(t){displaySuccessMessage(t.message),$("#addCountryModal").modal("hide"),e.DataTable().ajax.reload(null,!1)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#addCountryForm","#btnSave")}})})),listen("click",".edit-btn",(function(e){var t,a=$(e.currentTarget).data("id");t=a,$.ajax({url:route("countries.edit",t),type:"GET",success:function(e){e.success&&($("#editCountryId").val(e.data.id),$("#editName").val(e.data.country_name),$("#editCountryModal").modal("show").appendTo("body"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listen("submit","#editCountryForm",(function(t){t.preventDefault(),processingBtn("#editCountryForm","#btnEditSave","loading");var a=$("#editCountryId").val();$.ajax({url:route("countries.update",a),type:"put",data:$(this).serialize(),success:function(t){t.success&&(displaySuccessMessage(t.message),$("#editCountryModal").modal("hide"),e.DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#editCountryForm","#btnEditSave")}})})),listen("click",".delete-btn",(function(t){var a=$(t.currentTarget).data("id");deleteItem(route("countries.destroy",a),e,"Country")}))}}));