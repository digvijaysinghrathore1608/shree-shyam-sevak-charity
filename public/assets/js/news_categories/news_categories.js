document.addEventListener("DOMContentLoaded",(function(){var e=$("#newsCategoriesTable");if(e){var a=$(e).DataTable({serverSide:!0,order:[[0,"asc"]],ajax:{url:route("news-categories.index")},columnDefs:[{targets:[1],orderable:!1,className:"text-center",width:"8%"}],columns:[{data:"name",name:"name"},{data:function(e){var a=[{id:e.id,editUrl:route("news-categories.edit",e.id)}];return prepareTemplateRender("#actionsButtonTemplates",a)},name:"id"}]});handleSearchDatatable(a),listen("click","#addNewsCategoryBtn",(function(){$("#createNewsCategoryModal").appendTo("body").modal("show"),resetModalForm("#createNewsCategoryForm")})),$("#editNewsCategoryModal").on("hidden.bs.modal",(function(){resetModalForm("#editNewsCategoryForm","#editNewsCategoryValidationErrorsBox")})),listen("click",".edit-btn",(function(e){var a,t=$(e.currentTarget).data("id");a=t,$.ajax({url:route("news-categories.edit",a),type:"GET",success:function(e){$("#NewsCategoryID").val(e.data.id),$("#editNewsCategoryName").val(e.data.name),$("#editNewsCategoryModal").modal("show")}})})),listen("submit","#createNewsCategoryForm",(function(a){a.preventDefault(),$.ajax({url:route("news-categories.store"),type:"POST",data:$(this).serialize(),success:function(a){a.success&&(displaySuccessMessage(a.message),$("#createNewsCategoryModal").modal("hide"),$(e).DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listen("submit","#editNewsCategoryForm",(function(a){a.preventDefault();var t=$(this).serialize(),s=$("#NewsCategoryID").val();$.ajax({url:route("news-categories.update",s),type:"PUT",data:t,success:function(a){$("#editNewsCategoryModal").modal("hide"),displaySuccessMessage(a.message),$(e).DataTable().ajax.reload(null,!1)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listen("click",".delete-btn",(function(a){var t=$(a.currentTarget).data("id");deleteItem(route("news-categories.destroy",t),e,"News Category")}))}}));