document.addEventListener("DOMContentLoaded",(function(){var a=$("#campaignCategoryTable");if(a.length){var e=$(a).DataTable({processing:!0,serverSide:!0,language:{lengthMenu:"Show _MENU_"},ajax:{url:route("campaign-categories.index")},columnDefs:[{targets:[1],width:"10%",className:"text-center text-nowrap",orderable:!1},{targets:[2],className:"text-center text-nowrap",width:"10%",orderable:!1},{targets:"_all",defaultContent:"N/A",className:"text-start align-middle text-nowrap"}],columns:[{data:"name",name:"name"},{data:function(a){var e=0===a.is_active?"":"checked",t=[{id:a.id,checked:e}];return prepareTemplateRender("#IsActiceTemplate",t)},name:"is_active"},{data:function(a){var e=[{id:a.id}];return prepareTemplateRender("#actionsButtonTemplates",e)},name:"id"}]});handleSearchDatatable(e),listen("click","#addCampaignCategoryBtn",(function(){$("#addCampaignCategoryModal").appendTo("body").modal("show"),resetModalForm("#addCampaignCategoryForm")})),listen("hidden.bs.modal","#addCampaignCategoryBtn",(function(){resetModalForm("#addCampaignCategoryForm")})),listen("submit","#addCampaignCategoryForm",(function(e){e.preventDefault(),processingBtn("#addCampaignCategoryForm","#campaignCategoryBtn","loading"),$.ajax({url:route("campaign-categories.store"),type:"POST",data:$(this).serialize(),success:function(e){displaySuccessMessage(e.message),$("#addCampaignCategoryModal").modal("hide"),a.DataTable().ajax.reload(null,!1)},error:function(a){displayErrorMessage(a.responseJSON.message)},complete:function(){processingBtn("#addCampaignCategoryForm","#btnSave")}})})),listen("submit","#editCampaignCategoryForm",(function(e){e.preventDefault(),processingBtn("#editCampaignCategoryForm","#btnEditSave","loading");var t=$("#editCampaignCategoryId").val();$.ajax({url:route("campaign-categories.update",t),type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editCampaignCategoryModal").modal("hide"),a.DataTable().ajax.reload(null,!1))},error:function(a){displayErrorMessage(a.responseJSON.message)},complete:function(){processingBtn("#editCampaignCategoryForm","#btnEditSave")}})})),listen("click",".delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem(route("campaign-categories.destroy",t),a,"Campaign Category")})),listen("click","#addCampaignCategoryBtn",(function(){$("#addCampaignCategoryModal").appendTo("body").modal("show"),resetModalForm("#addCampaignCategoryForm")})),listen("click",".edit-btn",(function(a){var e,t=$(a.currentTarget).data("id");e=t,$.ajax({url:route("campaign-categories.edit",e),type:"GET",success:function(a){a.success&&($("#editCampaignCategoryId").val(a.data.id),$("#editName").val(a.data.name),1==a.data.is_active?$("#editIsActive").prop("checked",!0):$("#editIsActive").prop("checked",!1),$("#editCampaignCategoryModal").modal("show").appendTo("body"))},error:function(a){displayErrorMessage(a.responseJSON.message)}})}))}}));