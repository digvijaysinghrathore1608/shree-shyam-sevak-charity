document.addEventListener("DOMContentLoaded",(function(){var e=$("#inquiriesTable");if(e.length){var a=$(e).DataTable({processing:!0,serverSide:!0,language:{lengthMenu:"Show _MENU_"},order:[[3,"desc"]],ajax:{url:route("inquiries.index"),data:function(e){e.status=$("#enquiriesStatus").find("option:selected").val()}},columnDefs:[{targets:[0],width:"20%"},{targets:[1],orderable:!1},{targets:[3],width:"12%"},{targets:[2],width:"12%",orderable:!1},{targets:[4],width:"8%",orderable:!1}],columns:[{data:function(e){return'<div class="d-flex align-items-center">\n                    <div class="d-inline-block align-top">\n                             <span class="text-primary" href="">'.concat(e.name,'</span>\n                           <span class="d-block">').concat(e.email,"</span>\n                    </div>")},name:"name"},{data:"subject",name:"subject"},{data:function(e){return e.status?'<div class="badge badge-light-success">Read</div>':'<div class="badge badge-light-danger">Unread</div>'},name:"status"},{data:function(e){return'<div class="badge badge-light">\n                    <div> '.concat(moment(e.created_at,"YYYY-MM-DD hh:mm:ss").format("Do MMM, YYYY"),"</div>\n                    </div>")},name:"created_at"},{data:function(e){return prepareTemplateRender("#actionsButtonTemplates",[{id:e.id,url:showInquiry+"/"+e.id}])},name:"id"}],fnInitComplete:function(){$("#enquiriesStatus").change((function(){$("#filter").removeClass("show"),$("#filterBtn").removeClass("show"),$("#inquiriesTable").DataTable().ajax.reload(null,!0)}))}});handleSearchDatatable(a),listen("click",".delete-btn",(function(a){var t=$(a.currentTarget).data("id");deleteItem(route("inquiries.destroy",t),e,"Inquiry")})),listen("click",".show-btn",(function(e){$("#showInquiriesModal").appendTo("body").modal("show");var a=$(e.currentTarget).data("id");$.ajax({url:route("inquiries.index")+"/"+a,type:"GET",success:function(e){if(e.success){$("#showName").html(e.data.name),$("#showEmail").html(e.data.email),$("#showPhoneNo").html(e.data.phone),$("#showSubject").html(e.data.subject),$("#showCreatedAt").text(moment(e.data.created_at,"YYYY-MM-DD hh:mm:ss").format("Do MMM, YYYY")),$("#showUpdatedAt").text(moment(e.data.updated_at,"YYYY-MM-DD hh:mm:ss").format("Do MMM, YYYY"));var a=document.createElement("textarea");a.innerHTML=isEmpty(e.data.message)?"N/A":e.data.message,$("#showMessage").html(a.value),$("#inquiriesTable").DataTable().ajax.reload(null,!0),$("#showInquiriesModal").appendTo("body").modal("show")}},error:function(e){displayErrorMessage(e.responseJSON.message)}})}))}}));